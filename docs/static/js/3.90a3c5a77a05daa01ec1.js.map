{"version":3,"sources":["webpack:///./src/api/getSingerlistData.js","webpack:///src/page/Singerlist.vue","webpack:///./src/page/Singerlist.vue?e254","webpack:///./src/page/Singerlist.vue"],"names":["__webpack_exports__","jsonp","channel","page","key","pagesize","pagenum","loginUin","hostUin","format","inCharset","outCharset","notice","platform","needNewCode","param","id","data","singermid","order","from","num","begin","__WEBPACK_IMPORTED_MODULE_0__assets_js_jsonp_js__","__webpack_require__","Singerlist","components","Loading","singerlist","created","this","_getSingerlistData","methods","_this","Object","getSingerlistData","then","res","normalizeSingerList","list","map","hot","title","items","forEach","item","index","push","singername","Fsinger_name","Fsinger_mid","img","Findex","sortList","match","sort","a","b","charCodeAt","concat","goTo","plcae","params","query","url","$router","page_Singerlist","render","_vm","_h","$createElement","_c","_self","staticClass","length","_e","_v","_l","attrs","singer","on","click","$event","directives","name","rawName","value","expression","_s","staticRenderFns","Component","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/3.90a3c5a77a05daa01ec1.js","sourcesContent":["import jsonp from '@/assets/js/jsonp.js'\r\n\r\nexport default function getSingerlistData(){\r\n\tconst url=\"https://szc.y.qq.com/v8/fcg-bin/v8.fcg\";\r\n\tlet data={\r\n\t\tchannel:\"singer\",\r\n\t\tpage:\"list\",\r\n\t\tkey: \"all_all_all\", //获取所以排行歌手信息，all_all_A获取A字母开头的歌手信息\r\n\t\tpagesize: 100, //获取100条数据\r\n\t\tpagenum: 1,\r\n\t\t// g_tk: 5381,\r\n\t\tloginUin: 0,\r\n\t\thostUin: 0,\r\n\t\tformat: \"jsonp\",\r\n\t\tinCharset: \"utf8\",\r\n\t\toutCharset: \"utf-8\",\r\n\t\tnotice: 0,\r\n\t\tplatform: \"yqq\",\r\n\t\tneedNewCode: 0,\r\n\t}\r\n\treturn jsonp(url,data,{param:\"jsonpCallback\"})\r\n}\r\n\r\nexport  function getSingerData(id){\r\n\tconst url=\"https://c.y.qq.com/v8/fcg-bin/fcg_v8_singer_track_cp.fcg\"\r\n\r\n\tlet data={\r\n\t\tsingermid: id,\r\n\t\tformat: \"jsonp\",\r\n\t\tinCharset: \"utf-8\",\r\n\t\toutCharset: \"utf-8\",\r\n\t\tnotice: 0,\r\n\t\tplatform: \"h5page\",\r\n\t\tneedNewCode: 1,\r\n\t\torder: \"listen\",\r\n\t\tfrom: \"h5\",\r\n\t\tnum: 30, //获取歌曲数量\r\n\t\tbegin: 0\r\n\t}\r\n\treturn jsonp(url,data,{param:\"jsonpCallback\"});\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/getSingerlistData.js","<template>\r\n\t<div class=\"singerlist\">\r\n\t\t<div class=\"router-list\">\r\n\t\t\t<div class=\"loading-container\" v-if=\"!singerlist.length\">\r\n\t\t\t\t<loading></loading>\r\n\t\t\t</div>\r\n\t\t\t<mt-index-list>\r\n\t\t\t\t<mt-index-section v-for=\"(item,index) in singerlist\" :key=\"index\" :index=\"item.title\">\r\n\t\t\t\t\t<mt-cell v-for=\"(singer,index) in item.items\" :key=\"index\" class=\"singer-item\">\r\n\t\t\t\t\t\t<div class=\"media\" @click=\"goTo('singerlist/singer',singer.singermid,singer.singername)\">\r\n\t\t\t\t\t\t\t<img v-lazy=\"singer.img\">\r\n\t\t\t\t\t\t\t<span>{{singer.singername}}</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</mt-cell>\r\n\t\t\t\t</mt-index-section>\r\n\t\t\t</mt-index-list>\r\n\t\t</div>\r\n\t\t<div class=\"router-view\">\r\n\t\t\t<router-view></router-view>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport getSingerlistData from '@/api/getSingerlistData.js'\r\n\timport Loading from '@/components/Loading'\r\n\r\n\tconst HOT_NAME=\"热\"   \r\n\tconst HOT_LIST_LEN=10 //热门歌手数组长度\r\n\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tLoading\r\n\t\t},\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tsingerlist:[]\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis._getSingerlistData();\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t_getSingerlistData(){\r\n\t\t\t\tgetSingerlistData().then((res)=>{\r\n\t\t\t\t\tthis.singerlist=this.normalizeSingerList(res.data.list)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tnormalizeSingerList(list){\r\n\t\t\t\tlet map={\r\n\t\t\t\t\thot:{\r\n\t\t\t\t\t\ttitle:HOT_NAME,\r\n\t\t\t\t\t\titems:[]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlist.forEach((item,index)=>{\r\n\t\t\t\t\tif(index<HOT_LIST_LEN){\r\n\t\t\t\t\t\tmap.hot.items.push({\r\n\t\t\t\t\t\t\tsingername:item.Fsinger_name,\r\n\t\t\t\t\t\t\tsingermid:item.Fsinger_mid,\r\n\t\t\t\t\t\t\timg:`https://y.gtimg.cn/music/photo_new/T001R300x300M000${item.Fsinger_mid}.jpg?max_age=2592000`\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet key=item.Findex;\r\n\t\t\t\t\tif (!map[key]) {\r\n\t\t\t\t\t\tmap[key]={\r\n\t\t\t\t\t\t\ttitle:key,\r\n\t\t\t\t\t\t\titems:[]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tmap[key].items.push({\r\n\t\t\t\t\t\tsingername:item.Fsinger_name,\r\n\t\t\t\t\t\tsingermid:item.Fsinger_mid,\r\n\t\t\t\t\t\timg:`https://y.gtimg.cn/music/photo_new/T001R300x300M000${item.Fsinger_mid}.jpg?max_age=2592000`\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t//开始排序\r\n\t\t\t\tlet hot=[];\r\n\t\t\t\tlet sortList=[];\r\n\t\t\t\thot.push(map.hot);\r\n\t\t\t\tfor(var key in map){\r\n\t\t\t\t\tif (map[key].title.match(/[a-zA-Z]/)) {\r\n\t\t\t\t\t\tsortList.push(map[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsortList.sort(function(a,b){\r\n\t\t\t\t\treturn a.title.charCodeAt(0)-b.title.charCodeAt(0);\r\n\t\t\t\t})\r\n\r\n\t\t\t\treturn hot.concat(sortList);\r\n\t\t\t},\r\n\t\t\tgoTo(plcae,params,query){\r\n\t\t\t\tlet url=`/${plcae}/${params}?singername=${query}`\r\n\t\t\t\tthis.$router.push(url)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n<style scoped>\r\n\t.loading-container{\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%,-50%);\r\n\t}\r\n\t.singer-item{\r\n\t\tposition: relative;\r\n\t\theight: 72px;\r\n\t}\r\n\t.media{\r\n\t\tposition: absolute;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 80%;\r\n\t\theight: 72px;\r\n\t\tline-height: 72px;\r\n\t\tpadding-left: 20px;\r\n\t}\r\n\t.media img{\r\n\t\tdisplay: inline-block;\r\n\t\twidth: 50px;\r\n\t\theight: 50px;\r\n\t\tmargin-right: 15px;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\t.media span{\r\n\t\tfont-size: 14px;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/Singerlist.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"singerlist\"},[_c('div',{staticClass:\"router-list\"},[(!_vm.singerlist.length)?_c('div',{staticClass:\"loading-container\"},[_c('loading')],1):_vm._e(),_vm._v(\" \"),_c('mt-index-list',_vm._l((_vm.singerlist),function(item,index){return _c('mt-index-section',{key:index,attrs:{\"index\":item.title}},_vm._l((item.items),function(singer,index){return _c('mt-cell',{key:index,staticClass:\"singer-item\"},[_c('div',{staticClass:\"media\",on:{\"click\":function($event){return _vm.goTo('singerlist/singer',singer.singermid,singer.singername)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(singer.img),expression:\"singer.img\"}]}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(singer.singername))])])])}),1)}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"router-view\"},[_c('router-view')],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-61b54c16\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/Singerlist.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-61b54c16\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Singerlist.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Singerlist.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Singerlist.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-61b54c16\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Singerlist.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-61b54c16\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/Singerlist.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}