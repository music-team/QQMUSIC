{"version":3,"sources":["webpack:///src/page/Recommend.vue","webpack:///./src/page/Recommend.vue?acb3","webpack:///./src/page/Recommend.vue","webpack:///./src/api/getRecommendData.js"],"names":["Recommend","data","slider","radioList","songList","radioSongs","radioplay","computed","extends_default","Object","vuex_esm","created","this","_getRecommendData","methods","_this","getRecommendData","then","res","getToplistsData","i","push","song","songlist","selectRadio","index","songs","slice","selectPlay","list","radioplayIcon","playing","page_Recommend","render","_vm","_h","$createElement","_c","_self","staticClass","_l","item","key","attrs","href","linkUrl","src","picUrl","_v","on","click","$event","directives","name","rawName","value","expression","class","_s","Ftitle","to","songListDesc","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","jsonp","format","inCharset","outCharset","notice","platform","needNewCode","param","__WEBPACK_IMPORTED_MODULE_0__assets_js_jsonp_js__"],"mappings":"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","file":"static/js/4.6147fb8c8b294ac23428.js","sourcesContent":["<template>\r\n\t<div class=\"recommend\">\r\n\t\t<div class=\"slider\">\r\n\t\t\t<mt-swipe>\r\n\t\t\t\t<mt-swipe-item v-for=\"(item,index) in slider\" :key=\"index\">\r\n\t\t\t\t\t<a :href=\"item.linkUrl\"><img :src=\"item.picUrl\"></a>\r\n\t\t\t\t</mt-swipe-item>\r\n\t\t\t</mt-swipe>\r\n\t\t</div>\r\n\t\t<div class=\"radio-list\">\r\n\t\t\t<h2 class=\"title\">电台</h2>\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-for=\"(item,index) in radioList\">\r\n\t\t\t\t\t<div class=\"media-img\" @click=\"selectRadio(index)\">\r\n\t\t\t\t\t\t<img :src=\"item.picUrl\">\r\n\t\t\t\t\t\t<i class=\"radio-play\" :class=\"radioplayIcon(index)\" v-show=\"radioList.length\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"media-text\">\r\n\t\t\t\t\t\t<p>{{item.Ftitle}}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t\t</ul> \r\n\t\t</div>\r\n\t\t<div class=\"song-list\">\r\n\t\t\t<h2 class=\"title\">热门歌单</h2>\r\n\t\t\t<ul>\r\n\t\t\t\t<li v-for=\"(item,index) in songList\" :key=\"index\">\r\n\t\t\t\t\t<router-link :to=\"`/recommend/songsheet?id=sheet${index}`\">\r\n\t\t\t\t\t\t<div class=\"media-img\">\r\n\t\t\t\t\t\t\t<img v-lazy=\"item.picUrl\">\r\n\t\t\t\t\t\t\t<i class=\"play\"></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class=\"media-text\">\r\n\t\t\t\t\t\t\t<p>{{item.songListDesc}}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<router-view></router-view>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport { getRecommendData } from '@/api/getRecommendData.js'\r\n\timport { getToplist } from '@/api/getToplistsData.js'\r\n\timport { createSong } from '@/assets/js/song'\r\n\timport { mapState,mapGetters,mapMutations,mapActions  } from 'vuex'\r\n\r\n\texport default {\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tslider:[],\r\n\t\t\t\tradioList:[],\r\n\t\t\t\tsongList:[],\r\n\t\t\t\tradioSongs:[],\r\n\t\t\t\tradioplay:-1,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\t...mapState([\r\n\t\t\t\t'playing',\r\n\t\t\t]),\r\n\t\t},\r\n\t\tcreated(){\r\n\t\t\tthis._getRecommendData();\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\t...mapActions([\r\n\t\t\t\t'selectPlay'\r\n\t\t\t]),\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'setPlaylist',\r\n\t\t\t\t'setPlayingState',\r\n\t\t\t\t'setCurrentIndex',\r\n\t\t\t]),\r\n\t\t\t_getRecommendData(){\r\n\t\t\t\tgetRecommendData().then((res)=>{\r\n\t\t\t\t\tlet data=res.data;\r\n\t\t\t\t\tthis.slider=data.slider;\r\n\t\t\t\t\tthis.radioList=data.radioList;\r\n\t\t\t\t\tthis.songList=data.songList;\r\n\t\t\t\t})\r\n\t\t\t\tgetToplist(26).then((res)=>{\r\n\t\t\t\t\tfor(let i=0;i<30;i++){\r\n\t\t\t\t\t\tthis.radioSongs.push(createSong(res.songlist[i].data))\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tselectRadio(index){\r\n\t\t\t\t//歌单数据被腾讯限制，用toplist数据模拟\r\n\t\t\t\tthis.radioplay = index \r\n\t\t\t\tlet songs=[]\r\n\t\t\t\tindex ===0 ? songs = this.radioSongs.slice(0,15) : songs = this.radioSongs.slice(15,30)\r\n\t\t\t\tthis.selectPlay({\r\n\t\t\t\t\tlist:songs,\r\n\t\t\t\t\tindex:0\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tradioplayIcon(index) {\r\n\t\t\t\tif ( this.radioplay === index) {\r\n\t\t\t\t\treturn this.playing ? 'radio-playing' : 'radio-pause'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\t\r\n\t}\r\n</script>\r\n<style scoped>\r\n\tul{\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\tli{\r\n\t\twidth: 50%;\r\n\t}\r\n\t.recommend{\r\n\t\t/*background-color: #f4f4f4;*/\r\n\t\tmargin-bottom: 80px;\r\n\t}\r\n\t.slider{\r\n\t\twidth: 100%;\r\n\t\theight: 150px;\r\n\t}\r\n\t.slider a{\r\n\t\tdisplay: block;\r\n\t}\r\n\t.slider img{\r\n\t\twidth: 100%;\r\n\t\theight: 150px;\r\n\t}\r\n\t.radio-list{\r\n\t\t/*background-color: #fff;*/\r\n\t\tmin-height: 250px;\r\n\t\ttext-align: center;\r\n\t}\r\n\t.title{\r\n\t\tpadding: 10px 0 5px 10px;\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #000;\r\n\t\ttext-align: left;\r\n\t}\r\n\t.media-img{\r\n\t\tposition: relative;\r\n\t}\r\n\t.radio-list .radio-play{\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\twidth: 48px;\r\n\t\theight: 48px;\r\n\t\ttransform: translate(-50%,-50%);\r\n\t\tbackground-image: url('../assets/img/list_sprite.png');\r\n\t}\r\n\t.radio-list img{\r\n\t\twidth: 85%;\r\n\t\theight: auto;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\t.radio-list p{\r\n\t\tmargin: 10px 0;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t.radio-list .radio-playing{\r\n\t\tbackground-position-y: -50px;\r\n\t}\r\n\t.radio-list .radio-pause{\r\n\t\tbackground-position-y: 0;\r\n\t}\r\n\t.song-list ul{\r\n\t\tbackground-color: #f4f4f4;\r\n\t\tpadding: 0 10px;\r\n\t}\r\n\t.song-list li{\r\n\t\twidth: 49%;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t.song-list a{\r\n\t\tdisplay: block;\r\n\t}\r\n\t.song-list img{\r\n\t\twidth: 100%;\r\n\t}\r\n\t.song-list .play{\r\n\t\tposition: absolute;\r\n\t\tposition: absolute;\r\n\t    right: 5px;\r\n\t    bottom: 5px;\r\n\t    width: 24px;\r\n\t    height: 24px;\r\n\t    background-image: url('../assets/img/list_sprite.png');\r\n\t    background-size: cover;\r\n\t}\r\n\t.song-list p{\r\n\t\theight: 55px;\r\n\t\tpadding: 5px 0 15px 7px;\r\n\t\tcolor: #000;\r\n\t\tfont-weight: normal;\r\n\t\tfont-size: 14px;\r\n\t\tbackground-color: #fff;\r\n\t}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/page/Recommend.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"recommend\"},[_c('div',{staticClass:\"slider\"},[_c('mt-swipe',_vm._l((_vm.slider),function(item,index){return _c('mt-swipe-item',{key:index},[_c('a',{attrs:{\"href\":item.linkUrl}},[_c('img',{attrs:{\"src\":item.picUrl}})])])}),1)],1),_vm._v(\" \"),_c('div',{staticClass:\"radio-list\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"电台\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.radioList),function(item,index){return _c('li',[_c('div',{staticClass:\"media-img\",on:{\"click\":function($event){return _vm.selectRadio(index)}}},[_c('img',{attrs:{\"src\":item.picUrl}}),_vm._v(\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.radioList.length),expression:\"radioList.length\"}],staticClass:\"radio-play\",class:_vm.radioplayIcon(index)})]),_vm._v(\" \"),_c('div',{staticClass:\"media-text\"},[_c('p',[_vm._v(_vm._s(item.Ftitle))])])])}),0)]),_vm._v(\" \"),_c('div',{staticClass:\"song-list\"},[_c('h2',{staticClass:\"title\"},[_vm._v(\"热门歌单\")]),_vm._v(\" \"),_c('ul',_vm._l((_vm.songList),function(item,index){return _c('li',{key:index},[_c('router-link',{attrs:{\"to\":(\"/recommend/songsheet?id=sheet\" + index)}},[_c('div',{staticClass:\"media-img\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}]}),_vm._v(\" \"),_c('i',{staticClass:\"play\"})]),_vm._v(\" \"),_c('div',{staticClass:\"media-text\"},[_c('p',[_vm._v(_vm._s(item.songListDesc))])])])],1)}),0)]),_vm._v(\" \"),_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-25b10252\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/Recommend.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-25b10252\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Recommend.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Recommend.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Recommend.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-25b10252\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Recommend.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-25b10252\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/Recommend.vue\n// module id = null\n// module chunks = ","import jsonp from '@/assets/js/jsonp.js'\r\n\r\nexport function getRecommendData(){\r\n\tconst url=\"https://c.y.qq.com/musichall/fcgi-bin/fcg_yqqhomepagerecommend.fcg\";\r\n\tlet data={\r\n\t\tformat: \"json\",\r\n\t\tinCharset: \"utf-8\",\r\n\t\toutCharset: \"utf-8\",\r\n\t\tnotice: 0,\r\n\t\tplatform: \"h5\",\r\n\t\tneedNewCode: 1,\r\n\t}\r\n\treturn jsonp(url,data,{param:\"jsonpCallback\"})\r\n}\r\n\r\nexport function getHotSongSheet(id){\r\n\tconst url = \"http://ustbhuangyi.com/music/api/getCdInfo\"\r\n\tlet data = {\r\n\t\tg_tk: 1928093487,\r\n\t\tinCharset: 'utf-8',\r\n\t\toutCharset: 'utf-8',\r\n\t\tnotice: 0,\r\n\t\tformat: 'json',\r\n\t\tdisstid: 4024171742,\r\n\t\ttype: 1,\r\n\t\tjson: 1,\r\n\t\tutf8: 1,\r\n\t\tonlysong: 0,\r\n\t\tplatform: 'yqq',\r\n\t\thostUin: 0,\r\n\t\tneedNewCode: 0,\r\n\t}\r\n\treturn jsonp(url,data,{\r\n\t\tparam:\"jsonpCallback\",\r\n\t\tprefix: \"playlistinfoCallback\"\r\n\t})\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/getRecommendData.js"],"sourceRoot":""}